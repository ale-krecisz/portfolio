{"ast":null,"code":"var mapType = require('./mapType');\n\nvar mapSize = require('./mapSize');\n/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\n\n\nvar extractAttributes = function (gl, program) {\n  var attributes = {};\n  var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n  for (var i = 0; i < totalAttributes; i++) {\n    var attribData = gl.getActiveAttrib(program, i);\n    var type = mapType(gl, attribData.type);\n    attributes[attribData.name] = {\n      type: type,\n      size: mapSize(type),\n      location: gl.getAttribLocation(program, attribData.name),\n      //TODO - make an attribute object\n      pointer: pointer\n    };\n  }\n\n  return attributes;\n};\n\nvar pointer = function (type, normalized, stride, start) {\n  // console.log(this.location)\n  gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);\n};\n\nmodule.exports = extractAttributes;","map":null,"metadata":{},"sourceType":"script"}