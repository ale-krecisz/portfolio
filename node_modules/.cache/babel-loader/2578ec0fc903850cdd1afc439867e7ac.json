{"ast":null,"code":"var mapType = require('./mapType');\n\nvar defaultValue = require('./defaultValue');\n/**\n * Extracts the uniforms\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object}\n */\n\n\nvar extractUniforms = function (gl, program) {\n  var uniforms = {};\n  var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n  for (var i = 0; i < totalUniforms; i++) {\n    var uniformData = gl.getActiveUniform(program, i);\n    var name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n    var type = mapType(gl, uniformData.type);\n    uniforms[name] = {\n      type: type,\n      size: uniformData.size,\n      location: gl.getUniformLocation(program, name),\n      value: defaultValue(type, uniformData.size)\n    };\n  }\n\n  return uniforms;\n};\n\nmodule.exports = extractUniforms;","map":null,"metadata":{},"sourceType":"script"}